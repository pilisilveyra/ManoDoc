<!DOCTYPE html>
<html>
<head>
    <title>Temperaturas</title>
    <script>
        async function cargarTemperaturas() {
            const res = await fetch("/temperaturas/datos");
            const data = await res.json();



            const lista = document.getElementById("lista-temperaturas");
            lista.innerHTML = "";
            data.forEach(t => {
                const li = document.createElement("li");
                li.textContent = `${t.timestamp} - ${t.valor} °C`;
                lista.appendChild(li);
            });
        }

        setInterval(cargarTemperaturas, 3000);  // refresca cada 3 segundos

        window.onload = cargarTemperaturas;
    </script>
</head>
<body>
    <h1>Últimas temperaturas</h1>
    <ul id="lista-temperaturas">
        <!-- Se llenará automáticamente -->
    </ul>
</body>
</html>
